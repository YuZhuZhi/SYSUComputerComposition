# 第三次理论作业

## 一

1.`0000 00|10 010|1 0011 |1000 1|000 00|10 0000`

2.`0000 00|01 011|1 0101 |1010 0|000 00|10 0010`

3.`0000 00|01 010|1 0011 |0010 1|000 00|10 0100`

4.`0000 00|01 001|0 1010 |0100 0|000 00|10 0101`

5.`0000 00|10 011|1 0010 |0010 0|000 00|10 1010`

6.`1000 11|10 011|0 1000 |0000 0000 0010 0000`

7.`1010 11|10 011|0 1000 |0000 0000 0011 0000`

8.`0001 00|10 011|1 0010 |0101 0000 0000 0000`

---

## 二

R型。
`sub $v1, $v1, $v0`
`000000 00011 00010 00011 00000 100010`

---

## 三

I型。
`lw $v0, 4($at)`
`100011 00001 00010 0000000000000100`

---

## 四

1.`Loop: srl $t6, $s4, 2`
`0000 00|00 000|1 0100 |0111 0|000 00|00 0010`

2.`and $t1, $t3, $s4`
`0000 00|01 001|0 0111 |1010 0|000 00|10 0100`

3.`sw $t2, 32($t1)`
`1010 11|10 100|1 0101 |0000 0000 0010 0000`

4.`beq $t5, $s3, Exit`
`0001 00|00 000|0 0000 |0000 0000 0000 0010`

5.`addi  $s4, $t5, -1`
`0010 00|01 101|1 0100 |1111 1111 1111 1111`

6.`j Loop`
`0000 10|01 0101 0000 0000 0000 0000 0000`

7.`Exit`

## 五

### 1

MIPS:

```Shell
# 假设g, h, i, j已存储在$t0, $t1, $t2, $t3, and $t4中
sub $t5, $t0, $t1
sub $t6, $t2, $t3
add $t4, $t5, $t6
```

8086:

```JAVA
MOV AX, [g]
MOV BX, [h]
SUB AX, BX
MOV BX, [i]
MOV CX, [j]
SUB BX, CX
ADD [f], AX
ADD [f], BX
```

### 2

MIPS:

```SHELL
# 假设h, h, A地址已存储在$t0, $t1, $t3内存中
lw $t2, 8($t3)
add $t1, $t0, $t2
```

8086:

```JAVA
MOV AX, [h]
MOV BX, [A+8]
ADD AX, BX
MOV [g], AX
```

### 3

MIPS:

```SHELL
# 假设A的基地址存储在寄存器 $s0 中，h存储在寄存器 $s1 中
li $t0, 4           
mul $t0, $t0, 4     
add $t0, $s0, $t0   

lw $t1, 0($t0)      

move $t2, $s1      

add $t3, $t2, $t1

li $t0, 8           
mul $t0, $t0, 4     
add $t0, $s0, $t0   
sw $t3, 0($t0)      
```

8086:

```JAVA
; 假设A的基地址存储在BX寄存器中，h存储在AX寄存器中
MOV CX, 4           
MOV SI, CX          
SHL SI, 1           
MOV DI, BX          
ADD DI, SI          

MOV AX, [DI]        

MOV BX, AX          

ADD AX, BX
ADC DX, 0           

MOV CX, 8           
MOV SI, CX          
SHL SI, 1           
MOV DI, BX         
ADD DI, SI          

MOV [DI], AX       
```

### 4

MIPS:

```SHELL
# 假设i、j、g、h、f分别存储在寄存器 $s0、$s1、$s2、$s3、$s4 中
beq $s0, $s1, equal  

sub $s4, $s2, $s3    
j done               

equal:
add $s4, $s2, $s3    

done:
```

8086:

```JAVA
; 假设i、j、g、h、f分别存储在AX、BX、CX、DX、SI寄存器中
CMP AX, BX          
JE equal            

SUB CX, DX          
JMP done            

equal:
ADD CX, DX          

done:
```

### 5

MIPS:

```SHELL
# 假设数组save的基地址存储在寄存器 $s0 中，i和k分别存储在寄存器 $s1 和 $s2 中
li $s1, 0

while_loop:
lw $t0, 0($s0)      

beq $t0, $s2, found  

addi $s1, $s1, 1    
addi $s0, $s0, 4    

j while_loop

found:
```

8086:

```JAVA
; 假设数组save的基地址存储在BX寄存器中，i和k分别存储在CX和DX寄存器中
MOV CX, 0

while_loop:
MOV SI, CX          
SHL SI, 1           
MOV AX, [BX + SI]   

CMP AX, DX          
JE found            

INC CX              
ADD BX, 2           

JMP while_loop

found:
```
